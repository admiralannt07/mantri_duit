{% load static %}

<nav
  class="fixed top-0 left-0 right-0 z-50 w-full bg-white/80 backdrop-blur-md border-b border-slate-200/60 transition-all duration-300"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="navbar p-0 justify-between">
      <div class="navbar-start w-1/2 lg:w-auto flex items-center">
        <div class="dropdown lg:hidden mr-2">
          <div
            tabindex="0"
            role="button"
            class="btn btn-ghost btn-circle text-slate-600"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h8m-8 6h16"
              />
            </svg>
          </div>
          <ul
            tabindex="0"
            class="menu menu-sm dropdown-content mt-3 z-1 p-2 shadow-lg bg-white rounded-xl w-52 border border-slate-100 text-slate-600 font-poppins"
          >
            <li><a href="#hero">Beranda</a></li>
            <li><a href="#fitur">Fitur</a></li>
            <li><a href="#cara-pakai">Cara Pakai</a></li>
            <li><a href="#faq">FAQ</a></li>
          </ul>
        </div>

        <a
          href="/"
          class="btn btn-ghost hover:bg-transparent px-0 normal-case text-xl flex items-center gap-2 group"
        >
          <div
            class="w-9 h-9 bg-teal-600 rounded-lg flex items-center justify-center text-white shadow-sm group-hover:bg-teal-700 transition-colors"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"
              ></path>
            </svg>
          </div>
          <span
            class="font-montserrat font-bold text-slate-800 text-lg tracking-tight"
          >
            MAGA<span class="text-teal-600">TRA</span>
          </span>
        </a>
      </div>

      <div class="navbar-center hidden lg:flex">
        <ul
          class="menu menu-horizontal px-1 font-poppins font-medium text-slate-600 gap-1"
        >
          <li>
            <a
              href="#hero"
              class="hover:text-teal-600 hover:bg-teal-50 rounded-lg px-4"
              >Beranda</a
            >
          </li>
          <li>
            <a
              href="#fitur"
              class="hover:text-teal-600 hover:bg-teal-50 rounded-lg px-4"
              >Fitur</a
            >
          </li>
          <li>
            <a
              href="#cara-pakai"
              class="hover:text-teal-600 hover:bg-teal-50 rounded-lg px-4"
              >Cara Pakai</a
            >
          </li>
          <li>
            <a
              href="#faq"
              class="hover:text-teal-600 hover:bg-teal-50 rounded-lg px-4"
              >FAQ</a
            >
          </li>
        </ul>
      </div>

      <div
        class="navbar-end w-1/2 lg:w-auto flex items-center justify-end gap-2"
      >
        {% if user.is_authenticated %}
        <a
          href="{% url 'chat_page' %}"
          class="btn btn-ghost btn-circle text-slate-500 hover:text-teal-600 hover:bg-teal-50 transition-colors tooltip tooltip-bottom"
          data-tip="Chat Mantri"
        >
          <div class="indicator">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"
              />
            </svg>
            <span
              class="badge badge-xs badge-primary indicator-item border-white shadow-sm"
            ></span>
          </div>
        </a>

        <div class="dropdown dropdown-end">
          <div
            tabindex="0"
            role="button"
            class="btn btn-ghost btn-circle avatar ring ring-transparent hover:ring-teal-200 transition-all duration-300 ml-1"
          >
            <div
              class="w-10 rounded-full bg-linear-to-br from-teal-500 to-emerald-600 text-white flex items-center justify-center font-montserrat font-bold text-sm shadow-md"
            >
              {{ user.username|slice:":2"|upper }}
            </div>
          </div>

          <ul
            tabindex="0"
            class="menu menu-sm dropdown-content mt-3 z-1 p-2 shadow-xl bg-white rounded-xl w-56 border border-slate-100 font-poppins"
          >
            <li class="menu-title px-4 py-2 border-b border-slate-100 mb-2">
              <span class="text-slate-900 font-bold block truncate"
                >{{ user.username }}</span
              >
            </li>
            <li><a class="text-slate-600 py-2">Profile Saya</a></li>
            <li><a class="text-slate-600 py-2">Dashboard</a></li>
            <div class="divider my-1"></div>
            <li>
              <a
                href="/logout"
                class="text-red-500 hover:bg-red-50 py-2 font-medium"
                >Logout</a
              >
            </li>
          </ul>
        </div>

        {% else %}
        <a
          href="/login"
          class="btn bg-primary-teal hover:bg-teal-700 border-none text-white px-6 h-10 min-h-10 font-montserrat rounded-xl shadow-lg shadow-teal-100 hover:shadow-teal-200 transition-all transform hover:-translate-y-1 text-base"
        >
          Masuk
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>
